---
name: "Grafana Alloy"
description: "Grafana Alloy"
version: "0.0.12"
slug: "grafana_alloy"
arch:
  - aarch64
  - amd64
ports:
  12345/tcp:
  5514/udp:
  5601/tcp:
ports_description:
  12345/tcp: Alloy web server
  5514/udp: Alloy UDP syslog
  5601/tcp: Alloy TCP syslog
journald: true
host_network: true
host_pid: true
map:
  - type: homeassistant_config
    path: /config

options:
  enable_prometheus: true
  prometheus_write_endpoint: http://prometheus:9090/api/v1/write
  enable_unix_component: true
  enable_process_component: true
  prometheus_scrape_interval: 15s
  servername_tag: "HomeAssistant"
  enable_loki: false
  loki_endpoint: http://loki:3100/api/v1/push
  enable_loki_syslog: false
  override_config: false
  override_config_path: "/config/alloy/example.alloy"
  enable_fleet_management: false
  fleet_management_url: ""
  fleet_management_username: ""
  fleet_management_password: ""
  fleet_management_id: ""
  fleet_management_attributes: "{}"
  fleet_management_hostname: ""
  gcloud_rw_api_key: ""
  fleet_poll_frequency: "5m"
schema:
  enable_prometheus: bool
  prometheus_write_endpoint: str?
  enable_unix_component: bool
  enable_process_component: bool
  prometheus_scrape_interval: list(15s|30s|60s)
  servername_tag: str?
  instance_tag: str?
  enable_loki: bool
  loki_endpoint: str?
  enable_loki_syslog: bool
  override_config: bool
  override_config_path: str?
  enable_fleet_management: bool
  fleet_management_url: str?
  fleet_management_username: str?
  fleet_management_password: password?
  fleet_management_id: str?
  fleet_management_attributes: str?
  fleet_management_hostname: str?
  gcloud_rw_api_key: password?
  fleet_poll_frequency: list(1m|5m|10m|30m|1h)
